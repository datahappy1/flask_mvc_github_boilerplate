{% extends "layout.html" %}
{% block content %}
<div class="manager_config">
    <h1>Github files manager</h1>
    <p>Let's see how we can work with Github files using PyGithub library.</p>

    <ul>
        <li>Github session object ID: {{ gh_session_id }}</li>
        <li>Choose a Github branch:
            {% for branch in template_branch_list %}
            <a href="/views/gh_files_manager/branch/{{ branch }}"
               {% if branch== template_current_branch %} class="selected" {% endif %}>{{branch}}</a>
            {% endfor %}
        </li>
        <li>Commit a new file to the branch {{ template_current_branch }}
            <a href="{{ url_for('controller_gh.upload_file', branch_name=template_current_branch) }}">here</a></li>
        <li>Files list in the {{ template_current_branch }} branch:</li>
    </ul>

        <table class="customTable">
            <thead>
            <tr>
                <td>file name</td>
                <td colspan="2">available actions</td>
            </tr>
            </thead>
            {% for file in template_file_list %}
            <tr>
                <td>{{ file[0] }}</td>
                <td>{% if file[1] %} <!-- if file is "editable" based on file extension type, show edit link -->
                    <a href="{{ url_for('controller_gh.edit_file', branch_name=template_current_branch, file_name=file[0]) }}">
                        edit file
                    </a>
                    {% endif %}
                </td>
                <td>
                    <a href="{{ url_for('controller_gh.delete_file', branch_name=template_current_branch, file_name=file[0]) }}">
                        delete file
                    </a>
                </td>
            </tr>
            {% endfor %}
        </table>

</div>
{% endblock %}
